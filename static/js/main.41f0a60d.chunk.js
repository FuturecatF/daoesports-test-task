(this["webpackJsonpdaoesports-test-task"]=this["webpackJsonpdaoesports-test-task"]||[]).push([[0],{145:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getCurrency",(function(){return S}));var a=n(0),c=n.n(a),s=n(28),o=n.n(s),i=n(42),u=n(14),l=n.n(u),j=n(54),b=n(15),d=n(71),_=n.n(d),h=n(88),f=n(62),O=n(32),m=n(55),v=n(63),p=n(89),g=n.n(p),x=n(57),y=n(102),C=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e,r){var a;return Object(O.a)(this,n),(a=t.call(this)).statusCode=void 0,a.message=void 0,a.message=e,a.statusCode=r,a}return n}(Object(y.a)(Error)),N=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(O.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).getCurrency=function(){return g.a.get("".concat(e.baseUrl)).then((function(t){return e._getResponseData(t)})).catch(e._handleError)},e}return n}(function(){function e(){Object(O.a)(this,e),this.baseUrl="https://cdn.cur.su/api/latest.json"}return Object(x.a)(e,[{key:"_getResponseData",value:function(e){return e.data?e.data:Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status)))}},{key:"_handleError",value:function(e){if(e.response){if(401===e.response.status)throw new Error("\u0412\u044b \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u0438\u043b\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0438\u0441\u0442\u0435\u043a\u043b\u0430");throw new C(e.response.data.message||"",e.response.data.status)}throw e.request?new Error("\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0443 \u0412\u0430\u0441 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0438\u0441\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u043d\u0435\u043f\u043e\u043b\u0430\u0434\u043a\u0443 \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443."):new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u043a\u043e\u0434\u0435. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u0432 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443.")}}]),e}()),w=new N,S=Object(f.a)("currency/getCurrency",Object(h.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getCurrency();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),E=Object(j.a)({},r),k=i.c,F=n(74),R=n(50),H=n(90),J=n(92),U={en:{translation:n(93)},ru:{translation:n(94)}};F.a.use(H.a).use(J.a).use(R.e).init({resources:U,fallbackLng:"en",debug:!0,lng:"ru",interpolation:{escapeValue:!1}});var A=F.a,D=n(37),M=n.n(D),W=n(2),L=function(){var e=function(e){A.changeLanguage(e)};return Object(W.jsxs)("header",{className:l()(M.a.header),children:[Object(W.jsxs)("ul",{className:l()(M.a.header__list),children:[Object(W.jsx)("li",{className:l()(M.a.header__item),children:Object(W.jsx)("button",{className:l()(M.a.header__button),type:"button",onClick:function(){e("ru")},children:"RU"})}),Object(W.jsx)("li",{children:Object(W.jsx)("button",{className:l()(M.a.header__button),type:"button",onClick:function(){e("en")},children:"EN"})})]}),Object(W.jsx)("h1",{className:l()(M.a.header__text),children:"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440 \u0432\u0430\u043b\u044e\u0442"})]})},P=n(97),q=n.n(P),z=function(){return Object(W.jsx)("section",{className:l()(q.a.converter),children:Object(W.jsx)(Q,{})})},T=n(9),V=n(182),X=n(183),B=n(181),I=n(185),K=function(e){return+e.toFixed(2)},Z=n(27),G=n.n(Z),Q=function(){var e=Object(I.a)().t,t=function(){var e=k((function(e){return e.currency}));return Object(j.a)({},e)}().currencyObject,n=Object(a.useState)(),r=Object(T.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)(""),i=Object(T.a)(o,2),u=i[0],b=i[1],d=Object(a.useState)(),_=Object(T.a)(d,2),h=_[0],f=_[1],O=Object(a.useState)(""),m=Object(T.a)(O,2),v=m[0],p=m[1],g=Object(a.useState)(),x=Object(T.a)(g,2),y=x[0],C=x[1];Object(a.useEffect)((function(){t&&s(Object.keys(t.rates))}),[t]);var N=Object(a.useState)(""),w=Object(T.a)(N,2),S=w[0],E=w[1],F=Object(a.useState)(""),R=Object(T.a)(F,2),H=R[0],J=R[1],U=Object(a.useState)(null),A=Object(T.a)(U,2),D=A[0],M=A[1],L=Object(a.useCallback)((function(e){if("changing"===e){var t=Number(S);if(h&&y)J(String(K(y/h*t)))}else if("get"===e){var n=Number(H);if(h&&y)E(String(K(h/y*n)))}}),[h,S,y,H]);return Object(a.useEffect)((function(){"changing"===D&&h&&y?L("changing"):"get"===D&&h&&y&&L("get")}),[L,h,y,D]),Object(W.jsx)("form",{className:l()(G.a["converter-form"]),noValidate:!0,children:Object(W.jsxs)("ul",{className:l()(G.a["converter-form__list"]),children:[Object(W.jsxs)("li",{className:l()(G.a["converter-form__item"]),children:[Object(W.jsxs)("div",{className:l()(G.a["converter-form__input-container"]),children:[Object(W.jsx)("label",{className:l()(G.a["converter-form__label"]),htmlFor:"changing-input",children:e("labels.changing")}),Object(W.jsx)("input",{className:l()(G.a["converter-form__input"]),type:"number",id:"changing-input",onChange:function(e){E(e.target.value),L("changing"),M("changing")},value:S})]}),Object(W.jsx)(X.a,{sx:{m:0,width:120,p:0},children:Object(W.jsxs)(B.a,{value:u,onChange:function(e){b(e.target.value),t&&Object.entries(t.rates).filter((function(t){return t[0]===e.target.value&&f(t[1]),null}))},displayEmpty:!0,inputProps:{"aria-label":"Without label"},sx:{p:0},children:[Object(W.jsx)(V.a,{value:"",children:Object(W.jsx)("em",{children:"None"})}),c&&c.length>0&&(null===c||void 0===c?void 0:c.map((function(e){return Object(W.jsx)(V.a,{value:e,children:e},e)})))]})})]}),Object(W.jsxs)("li",{className:l()(G.a["converter-form__item"]),children:[Object(W.jsxs)("div",{className:l()(G.a["converter-form__input-container"]),children:[Object(W.jsx)("label",{className:l()(G.a["converter-form__label"]),htmlFor:"get-input",children:e("labels.get")}),Object(W.jsx)("input",{className:l()(G.a["converter-form__input"]),type:"number",id:"get-input",onChange:function(e){J(e.target.value),L("get"),M("get")},value:H})]}),Object(W.jsx)(X.a,{sx:{m:0,width:120},children:Object(W.jsxs)(B.a,{value:v,onChange:function(e){p(e.target.value),t&&Object.entries(t.rates).filter((function(t){return t[0]===e.target.value&&C(t[1]),null}))},displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[Object(W.jsx)(V.a,{value:"",children:Object(W.jsx)("em",{children:"None"})}),c&&c.length>0&&(null===c||void 0===c?void 0:c.map((function(e){return Object(W.jsx)(V.a,{value:e,children:e},e)})))]})})]})]})})},Y=n(99),$=n.n(Y),ee=function(){var e=function(){var e=Object(i.b)();return Object(a.useMemo)((function(){return Object(b.bindActionCreators)(E,e)}),[e])}().getCurrency;return Object(a.useEffect)((function(){e()}),[e]),Object(W.jsx)("main",{className:l()($.a["home-main"]),children:Object(W.jsx)(z,{})})},te=function(){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(L,{}),Object(W.jsx)(ee,{})]})},ne=n(100),re=n(47),ae=Object(f.b)({name:"currency",initialState:{status:null,currencyObject:null},reducers:{},extraReducers:function(e){e.addCase(r.getCurrency.pending,(function(e,t){e.status=!1})).addCase(r.getCurrency.fulfilled,(function(e,t){e.status=!0,e.currencyObject=t.payload})).addCase(r.getCurrency.rejected,(function(e,t){e.status=!1}))}}).reducer,ce=Object(b.combineReducers)({currency:ae}),se=[re.a],oe=Object(b.createStore)(ce,Object(ne.composeWithDevTools)(b.applyMiddleware.apply(void 0,se)));o.a.render(Object(W.jsx)(c.a.StrictMode,{children:Object(W.jsx)(i.a,{store:oe,children:Object(W.jsx)(a.Suspense,{fallback:"loading",children:Object(W.jsx)(te,{})})})}),document.getElementById("root"))},27:function(e,t,n){e.exports={"converter-form":"ConverterForm_converter-form__pNCd8","converter-form__list":"ConverterForm_converter-form__list__2_l8m","converter-form__item":"ConverterForm_converter-form__item__2AyXo","converter-form__input-container":"ConverterForm_converter-form__input-container__1vl0R","converter-form__input":"ConverterForm_converter-form__input__rdU78"}},37:function(e,t,n){e.exports={header:"Header_header__3Mzz0",header__text:"Header_header__text__1hmLb",header__list:"Header_header__list__15F1W",header__button:"Header_header__button__vUlFK"}},93:function(e){e.exports=JSON.parse('{"labels":{"changing":"Amount","get":"To"}}')},94:function(e){e.exports=JSON.parse('{"labels":{"changing":"\u041c\u0435\u043d\u044f\u044e","get":"\u041f\u043e\u043b\u0443\u0447\u0430\u044e"}}')},97:function(e,t,n){e.exports={converter:"Converter_converter__2JZDx"}},99:function(e,t,n){e.exports={"home-main":"Home_home-main__2qF_X"}}},[[145,1,2]]]);
//# sourceMappingURL=main.41f0a60d.chunk.js.map